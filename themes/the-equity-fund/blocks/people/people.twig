{% if people|length %}
<section
  class="text-foreground"
  data-block="people"
  {% if headline %}aria-label="{{ headline }}"{% endif %}
>
  {% include 'templates/components/block-header.twig' with {
    title: headline
  } %}

  <ul class="grid grid-cols-3 gap-gutter mt-gutter">
    {% for person in people %}
      {% set position = person.meta('position') %}

      {% set socials = {
        'LinkedIn': person.meta('linkedin'),
        'Instagram': person.meta('instagram'),
        'Twitter': person.meta('twitter'),
      } %}

      <li class="flex flex-col gap-2">
        {% if person.thumbnail %}
          {% include 'templates/components/lazy-img.twig' with {
            class: 'w-full',
            img: Image(person.thumbnail),
            aspectRatio: 'square'
          } %}
        {% endif %}

        <h3>{{ person.title }}</h3>

        {% if position %}
          <p>{{ position }}</p>
        {% endif %}

        {% if person.preview %}
          <p>{{ person.preview.read_more('') }}</p>
        {% endif %}

        <div>
          {% for type, url in socials %}
            {% if url %}
              <a href="{{ url }}">
                <span class="sr-only">{{ type }}</span>
                <svg class="aspect-square h-8 w-8" aria-hidden="true">
                  <use xlink:href="#{{ type|lower }}"></use>
                </svg>
              </a>
            {% endif %}
          {% endfor %}
        </div>
      </li>
    {% endfor %}
  </ul>
</section>
{% endif %}
